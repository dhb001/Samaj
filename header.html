<!DOCTYPE html>
<header>
    <div class="container">
        <div class="header-container">
            <div class="logo-container">
                <img src="Timeline Related Photos/samaj logo.png" alt="Logo" class="logo">
                <div class="logo-text">
                    <h1>Shree Cutchi Leva Patel Samaj</h1>
                </div>
            </div>
            <button class="mobile-nav-toggle" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
            <nav id="main-nav">
                <ul class="nav-menu">
                    <li><a href="index.html">Home</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle">Our Samaj<i class="fas fa-chevron-down"></i></a>
                        <div class="dropdown-content">
                            <a href="events-timeline.html">Journey Of Development</a>
                            <a href="history-in-pictures.html">History In Pictures</a>
                            <a href="board-and-management.html">Board And Management</a>
                        </div>
                    </li>
                    <li><a href="charitable-trust.html">Charitable Trust</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle">Committees <i class="fas fa-chevron-down"></i></a>
                        <div class="dropdown-content">
                            <a href="flat-liasing.html">Building & Flat Liaison</a>
                            <a href="cec.html">Cutchi Economic Council (CRC)</a>
                            <a href="helc.html">Higher Education Loans (HELC)</a>
                            <a href="krr.html">Karibu Rapid Response (KRR)</a>
                            <a href="ladies-wing.html">MAHILA MANDAL (Ladies Wings)</a>
                            <a href="mrs.html">Medical Relief Scheme (MRS)</a>
                            <a href="youth-league.html">Youth League</a>
                        </div>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle">Events <i class="fas fa-chevron-down"></i></a>
                        <div class="dropdown-content">
                            <a href="upcoming-events.html">Upcoming Events</a>
                            <a href="past-events.html">Past Events</a>
                        </div>
                    </li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
        </div>
    </div>
</header>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Mobile menu toggle
        const mobileNavToggle = document.querySelector('.mobile-nav-toggle');
        const nav = document.getElementById('main-nav');
        const dropdowns = document.querySelectorAll('.dropdown');
        
        // Toggle mobile menu
        mobileNavToggle.addEventListener('click', function(e) {
            e.stopPropagation();
            nav.classList.toggle('active');
            document.body.style.overflow = nav.classList.contains('active') ? 'hidden' : '';
            
            // Toggle menu icon
            const icon = this.querySelector('i');
            if (nav.classList.contains('active')) {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            } else {
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        });

        // Handle dropdowns in mobile view
        dropdowns.forEach(dropdown => {
            const dropdownToggle = dropdown.querySelector('.dropdown-toggle');
            const dropdownContent = dropdown.querySelector('.dropdown-content');
            const arrow = dropdownToggle.querySelector('i');

            dropdownToggle.addEventListener('click', function(e) {
                if (window.innerWidth <= 768) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Close other dropdowns
                    dropdowns.forEach(otherDropdown => {
                        if (otherDropdown !== dropdown) {
                            otherDropdown.classList.remove('active');
                            otherDropdown.querySelector('.dropdown-content').style.display = 'none';
                            otherDropdown.querySelector('i').style.transform = '';
                        }
                    });

                    // Toggle current dropdown
                    dropdown.classList.toggle('active');
                    dropdownContent.style.display = dropdown.classList.contains('active') ? 'block' : 'none';
                    arrow.style.transform = dropdown.classList.contains('active') ? 'rotate(180deg)' : '';
                }
            });
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(e) {
            if (!nav.contains(e.target) && !mobileNavToggle.contains(e.target)) {
                nav.classList.remove('active');
                document.body.style.overflow = '';
                
                // Reset menu icon
                const icon = mobileNavToggle.querySelector('i');
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');

                // Close all dropdowns
                dropdowns.forEach(dropdown => {
                    dropdown.classList.remove('active');
                    dropdown.querySelector('.dropdown-content').style.display = 'none';
                    dropdown.querySelector('i').style.transform = '';
                });
            }
        });

        // Set active navigation item
        const currentPage = window.location.pathname.split('/').pop();
        const navLinks = document.querySelectorAll('.nav-menu a');
        
        navLinks.forEach(link => {
            const href = link.getAttribute('href');
            if (href === currentPage) {
                link.classList.add('active');
                const parentDropdown = link.closest('.dropdown');
                if (parentDropdown) {
                    parentDropdown.querySelector('.dropdown-toggle').classList.add('active');
                }
            }
        });
    });
</script>
